[{"path":"/articles/tidycat.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"The tidycat package: expand broom::tidy() output for categorical parameter estimates","text":"tidycat package includes tidy_categorical() function expand broom::tidy() outputs categorical parameter estimates.","code":""},{"path":"/articles/tidycat.html","id":"installation","dir":"Articles","previous_headings":"","what":"Installation","title":"The tidycat package: expand broom::tidy() output for categorical parameter estimates","text":"can install released version tidycat CRAN : development version GitHub :","code":"install.packages(\"tidycat\") # install.packages(\"devtools\") devtools::install_github(\"guyabel/tidycat\")"},{"path":"/articles/tidycat.html","id":"additional-columns-for-categorical-parameter-estimates","dir":"Articles","previous_headings":"","what":"Additional columns for categorical parameter estimates","title":"The tidycat package: expand broom::tidy() output for categorical parameter estimates","text":"tidy() function broom package takes messy output built-functions R, lm(), turns tidy data frames. Note: Currently ordered factor supported tidycat, hence removal mutate_if() tidy_categorical() function adds columns (variable, level effect) broom::tidy() output help manage categorical variables","code":"library(dplyr) library(broom) m0 <- esoph %>%    mutate_if(is.factor, ~factor(., ordered = FALSE)) %>%    glm(cbind(ncases, ncontrols) ~ agegp + tobgp + alcgp, data = ., family = binomial()) # tidy tidy(m0) #> # A tibble: 12 × 5 #>    term        estimate std.error statistic  p.value #>    <chr>          <dbl>     <dbl>     <dbl>    <dbl> #>  1 (Intercept)   -6.90      1.09      -6.35 2.16e-10 #>  2 agegp35-44     1.98      1.10       1.79 7.28e- 2 #>  3 agegp45-54     3.78      1.07       3.54 4.07e- 4 #>  4 agegp55-64     4.34      1.07       4.07 4.69e- 5 #>  5 agegp65-74     4.90      1.08       4.55 5.39e- 6 #>  6 agegp75+       4.83      1.12       4.30 1.67e- 5 #>  7 tobgp10-19     0.438     0.228      1.92 5.50e- 2 #>  8 tobgp20-29     0.513     0.273      1.88 6.04e- 2 #>  9 tobgp30+       1.64      0.344      4.77 1.85e- 6 #> 10 alcgp40-79     1.43      0.250      5.74 9.63e- 9 #> 11 alcgp80-119    1.98      0.285      6.96 3.51e-12 #> 12 alcgp120+      3.60      0.385      9.36 8.19e-21 library(tidycat) m0 %>%   tidy() %>%   tidy_categorical(m = m0, include_reference =  FALSE) #> # A tibble: 12 × 8 #>    term        estimate std.error statistic  p.value variable    level    effect #>    <chr>          <dbl>     <dbl>     <dbl>    <dbl> <chr>       <fct>    <chr>  #>  1 (Intercept)   -6.90      1.09      -6.35 2.16e-10 (Intercept) (Interc… main   #>  2 agegp35-44     1.98      1.10       1.79 7.28e- 2 agegp       35-44    main   #>  3 agegp45-54     3.78      1.07       3.54 4.07e- 4 agegp       45-54    main   #>  4 agegp55-64     4.34      1.07       4.07 4.69e- 5 agegp       55-64    main   #>  5 agegp65-74     4.90      1.08       4.55 5.39e- 6 agegp       65-74    main   #>  6 agegp75+       4.83      1.12       4.30 1.67e- 5 agegp       75+      main   #>  7 tobgp10-19     0.438     0.228      1.92 5.50e- 2 tobgp       10-19    main   #>  8 tobgp20-29     0.513     0.273      1.88 6.04e- 2 tobgp       20-29    main   #>  9 tobgp30+       1.64      0.344      4.77 1.85e- 6 tobgp       30+      main   #> 10 alcgp40-79     1.43      0.250      5.74 9.63e- 9 alcgp       40-79    main   #> 11 alcgp80-119    1.98      0.285      6.96 3.51e-12 alcgp       80-119   main   #> 12 alcgp120+      3.60      0.385      9.36 8.19e-21 alcgp       120+     main"},{"path":"/articles/tidycat.html","id":"additional-rows-for-reference-categories","dir":"Articles","previous_headings":"","what":"Additional rows for reference categories","title":"The tidycat package: expand broom::tidy() output for categorical parameter estimates","text":"Include additional rows reference category terms column indicate location setting include_reference = TRUE (default). Setting exponentiate = TRUE ensures parameter estimates reference group set one instead zero (even odds logistic regression example ).","code":"m0 %>%   tidy(exponentiate = TRUE) %>%   tidy_categorical(m = m0, exponentiate = TRUE, reference_label = \"Baseline\") %>%   select(-statistic, -p.value) #> # A tibble: 15 × 7 #>    term         estimate std.error variable    level       effect reference    #>    <chr>           <dbl>     <dbl> <chr>       <fct>       <chr>  <chr>        #>  1 (Intercept)   0.00101     1.09  (Intercept) (Intercept) main   Non-Baseline #>  2 NA            1           1     agegp       25-34       main   Baseline     #>  3 agegp35-44    7.25        1.10  agegp       35-44       main   Non-Baseline #>  4 agegp45-54   43.7         1.07  agegp       45-54       main   Non-Baseline #>  5 agegp55-64   76.3         1.07  agegp       55-64       main   Non-Baseline #>  6 agegp65-74  134.          1.08  agegp       65-74       main   Non-Baseline #>  7 agegp75+    125.          1.12  agegp       75+         main   Non-Baseline #>  8 NA            1           1     tobgp       0-9g/day    main   Baseline     #>  9 tobgp10-19    1.55        0.228 tobgp       10-19       main   Non-Baseline #> 10 tobgp20-29    1.67        0.273 tobgp       20-29       main   Non-Baseline #> 11 tobgp30+      5.16        0.344 tobgp       30+         main   Non-Baseline #> 12 NA            1           1     alcgp       0-39g/day   main   Baseline     #> 13 alcgp40-79    4.20        0.250 alcgp       40-79       main   Non-Baseline #> 14 alcgp80-119   7.25        0.285 alcgp       80-119      main   Non-Baseline #> 15 alcgp120+    36.7         0.385 alcgp       120+        main   Non-Baseline"},{"path":"/articles/tidycat.html","id":"standard-coefficient-plots","dir":"Articles","previous_headings":"","what":"Standard coefficient plots","title":"The tidycat package: expand broom::tidy() output for categorical parameter estimates","text":"results broom::tidy() can used quickly plot estimated coefficients confidence intervals.","code":"# store parameter estimates and confidence intervals (except for the intercept) d0 <- m0 %>%   tidy(conf.int = TRUE) %>%   slice(-1) d0 #> # A tibble: 11 × 7 #>    term        estimate std.error statistic  p.value conf.low conf.high #>    <chr>          <dbl>     <dbl>     <dbl>    <dbl>    <dbl>     <dbl> #>  1 agegp35-44     1.98      1.10       1.79 7.28e- 2   0.184      4.95  #>  2 agegp45-54     3.78      1.07       3.54 4.07e- 4   2.10       6.71  #>  3 agegp55-64     4.34      1.07       4.07 4.69e- 5   2.67       7.27  #>  4 agegp65-74     4.90      1.08       4.55 5.39e- 6   3.21       7.84  #>  5 agegp75+       4.83      1.12       4.30 1.67e- 5   3.00       7.82  #>  6 tobgp10-19     0.438     0.228      1.92 5.50e- 2  -0.0116     0.885 #>  7 tobgp20-29     0.513     0.273      1.88 6.04e- 2  -0.0290     1.04  #>  8 tobgp30+       1.64      0.344      4.77 1.85e- 6   0.967      2.32  #>  9 alcgp40-79     1.43      0.250      5.74 9.63e- 9   0.955      1.94  #> 10 alcgp80-119    1.98      0.285      6.96 3.51e-12   1.43       2.55  #> 11 alcgp120+      3.60      0.385      9.36 8.19e-21   2.87       4.39  library(ggplot2) library(tidyr) ggplot(data = d0,         mapping = aes(x = term, y = estimate, ymin = conf.low, ymax = conf.high)) +    coord_flip() +    geom_hline(yintercept = 0, linetype = \"dashed\") +    geom_pointrange()"},{"path":"/articles/tidycat.html","id":"enhanced-coefficient-plots","dir":"Articles","previous_headings":"","what":"Enhanced coefficient plots","title":"The tidycat package: expand broom::tidy() output for categorical parameter estimates","text":"additional columns tidy_categorical() can used group together terms categorical variable setting colour = variable  additional rows tidy_categorical() can used include reference categories coefficient plot, allowing reader better grasp meaning parameter estimates categorical variable. Using ggforce::facet_col() terms variable can separated improve presentation coefficient plot.  Note switch x aesthetic level column rather term. Alternatively, horizontal plots can obtained using ggforce::facet_row() loosing coord_flip();","code":"d0 <- m0 %>%   tidy(conf.int = TRUE) %>%   tidy_categorical(m = m0, include_reference = FALSE) %>%   slice(-1)  d0 %>%   select(-(3:5)) #> # A tibble: 11 × 7 #>    term        estimate conf.low conf.high variable level  effect #>    <chr>          <dbl>    <dbl>     <dbl> <chr>    <fct>  <chr>  #>  1 agegp35-44     1.98    0.184      4.95  agegp    35-44  main   #>  2 agegp45-54     3.78    2.10       6.71  agegp    45-54  main   #>  3 agegp55-64     4.34    2.67       7.27  agegp    55-64  main   #>  4 agegp65-74     4.90    3.21       7.84  agegp    65-74  main   #>  5 agegp75+       4.83    3.00       7.82  agegp    75+    main   #>  6 tobgp10-19     0.438  -0.0116     0.885 tobgp    10-19  main   #>  7 tobgp20-29     0.513  -0.0290     1.04  tobgp    20-29  main   #>  8 tobgp30+       1.64    0.967      2.32  tobgp    30+    main   #>  9 alcgp40-79     1.43    0.955      1.94  alcgp    40-79  main   #> 10 alcgp80-119    1.98    1.43       2.55  alcgp    80-119 main   #> 11 alcgp120+      3.60    2.87       4.39  alcgp    120+   main  ggplot(data = d0,         mapping = aes(x = term, y = estimate, ymin = conf.low, ymax = conf.high,                       colour = variable)) +    coord_flip() +    geom_hline(yintercept = 0, linetype = \"dashed\") +    geom_pointrange() d0 <- m0 %>%   tidy(conf.int = TRUE) %>%   tidy_categorical(m = m0) %>%   slice(-1)  d0 %>%   select(-(3:5)) #> # A tibble: 14 × 8 #>    term        estimate conf.low conf.high variable level     effect reference   #>    <chr>          <dbl>    <dbl>     <dbl> <chr>    <fct>     <chr>  <chr>       #>  1 NA             0       0          0     agegp    25-34     main   Baseline C… #>  2 agegp35-44     1.98    0.184      4.95  agegp    35-44     main   Non-Baseli… #>  3 agegp45-54     3.78    2.10       6.71  agegp    45-54     main   Non-Baseli… #>  4 agegp55-64     4.34    2.67       7.27  agegp    55-64     main   Non-Baseli… #>  5 agegp65-74     4.90    3.21       7.84  agegp    65-74     main   Non-Baseli… #>  6 agegp75+       4.83    3.00       7.82  agegp    75+       main   Non-Baseli… #>  7 NA             0       0          0     tobgp    0-9g/day  main   Baseline C… #>  8 tobgp10-19     0.438  -0.0116     0.885 tobgp    10-19     main   Non-Baseli… #>  9 tobgp20-29     0.513  -0.0290     1.04  tobgp    20-29     main   Non-Baseli… #> 10 tobgp30+       1.64    0.967      2.32  tobgp    30+       main   Non-Baseli… #> 11 NA             0       0          0     alcgp    0-39g/day main   Baseline C… #> 12 alcgp40-79     1.43    0.955      1.94  alcgp    40-79     main   Non-Baseli… #> 13 alcgp80-119    1.98    1.43       2.55  alcgp    80-119    main   Non-Baseli… #> 14 alcgp120+      3.60    2.87       4.39  alcgp    120+      main   Non-Baseli…  library(ggforce) ggplot(data = d0,         mapping = aes(x = level, y = estimate, colour = reference,                       ymin = conf.low, ymax = conf.high)) +    facet_col(facets = vars(variable), scales = \"free_y\", space = \"free\") +    coord_flip() +    geom_hline(yintercept = 0, linetype = \"dashed\") +    geom_pointrange() ggplot(data = d0,       mapping = aes(x = level, y = estimate,                     ymin = conf.low, ymax = conf.high,                     colour = reference)) +  facet_row(facets = vars(variable), scales = \"free_x\", space = \"free\") +  geom_hline(yintercept = 0, linetype = \"dashed\") +  geom_pointrange() +  theme(axis.text.x = element_text(angle = 45, hjust = 1))"},{"path":"/articles/tidycat.html","id":"interactions","dir":"Articles","previous_headings":"","what":"Interactions","title":"The tidycat package: expand broom::tidy() output for categorical parameter estimates","text":"Models interactions can also handled tidy_categorical(). Using mtcars data can create three types interactions (two numeric variables, numeric variable categorical variable two categorical variables) Setting n_level = TRUE creates additional column monitor number observations level categorical variables, including interaction terms model: can use similar plotting code plot interactions:  empty levels can dropped filtering n_level column categories zero observations NA term column.","code":"m1 <- mtcars %>%   mutate(engine = recode_factor(vs, `0` = \"straight\", `1` = \"V-shaped\"),          transmission = recode_factor(am, `0` = \"automatic\", `1` = \"manual\")) %>%   lm(mpg ~ as.factor(cyl) + wt * hp + wt * transmission + engine * transmission , data = .)  tidy(m1) #> # A tibble: 10 × 5 #>    term                              estimate std.error statistic p.value #>    <chr>                                <dbl>     <dbl>     <dbl>   <dbl> #>  1 (Intercept)                        35.5      12.3        2.89  0.00843 #>  2 as.factor(cyl)6                    -1.03      1.76      -0.585 0.565   #>  3 as.factor(cyl)8                     2.01      4.09       0.492 0.628   #>  4 wt                                 -4.65      3.55      -1.31  0.203   #>  5 hp                                 -0.0731    0.0577    -1.27  0.218   #>  6 transmissionmanual                 10.7      10.0        1.07  0.296   #>  7 engineV-shaped                      3.74      3.21       1.16  0.257   #>  8 wt:hp                               0.0134    0.0162     0.828 0.416   #>  9 wt:transmissionmanual              -2.63      2.83      -0.930 0.362   #> 10 transmissionmanual:engineV-shaped  -3.16      3.76      -0.842 0.409 d1 <- m1 %>%   tidy(conf.int = TRUE) %>%   tidy_categorical(m = m1, n_level = TRUE) %>%   slice(-1)  d1 %>%   select(-(2:7)) #> # A tibble: 16 × 6 #>    term                              variable       level effect refer…¹ n_level #>    <chr>                             <chr>          <fct> <chr>  <chr>     <dbl> #>  1 NA                                as.factor(cyl) 4     main   Baseli…      11 #>  2 as.factor(cyl)6                   as.factor(cyl) 6     main   Non-Ba…       7 #>  3 as.factor(cyl)8                   as.factor(cyl) 8     main   Non-Ba…      14 #>  4 wt                                wt             wt    main   Non-Ba…      NA #>  5 hp                                hp             hp    main   Non-Ba…      NA #>  6 NA                                transmission   auto… main   Baseli…      19 #>  7 transmissionmanual                transmission   manu… main   Non-Ba…      13 #>  8 NA                                engine         stra… main   Baseli…      18 #>  9 engineV-shaped                    engine         V-sh… main   Non-Ba…      14 #> 10 wt:hp                             wt:hp          wt:hp inter… Non-Ba…      NA #> 11 NA                                wt:transmissi… auto… inter… Baseli…      19 #> 12 wt:transmissionmanual             wt:transmissi… manu… inter… Non-Ba…      13 #> 13 NA                                transmission:… auto… inter… Baseli…      25 #> 14 NA                                transmission:… manu… inter… Non-Ba…       0 #> 15 NA                                transmission:… auto… inter… Non-Ba…       0 #> 16 transmissionmanual:engineV-shaped transmission:… manu… inter… Non-Ba…       7 #> # … with abbreviated variable name ¹​reference ggplot(data = d1,         mapping = aes(x = level, y = estimate, colour = reference,                       ymin = conf.low, ymax = conf.high)) +    facet_col(facets = \"variable\", scales = \"free_y\", space = \"free\") +    coord_flip() +    geom_hline(yintercept = 0, linetype = \"dashed\") +    geom_pointrange() d1 %>%   dplyr::filter(n_level > 0 | !is.na(term)) %>%   ggplot(mapping = aes(x = level, y = estimate, colour = reference,                        ymin = conf.low, ymax = conf.high)) +   facet_col(facets = \"variable\", scales = \"free_y\", space = \"free\") +   coord_flip() +   geom_hline(yintercept = 0, linetype = \"dashed\") +   geom_pointrange()"},{"path":"/articles/tidycat.html","id":"issues","dir":"Articles","previous_headings":"","what":"Issues","title":"The tidycat package: expand broom::tidy() output for categorical parameter estimates","text":"trouble suggestions please let know creating issue tidycat Github","code":""},{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Guy J. Abel. Author, maintainer.","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Abel GJ (2024). tidycat: Expand Tidy Output Categorical Parameter Estimates. R package version 0.1.2, https://guyabel.github.io/tidycat/.","code":"@Manual{,   title = {tidycat: Expand Tidy Output for Categorical Parameter Estimates},   author = {Guy J. Abel},   year = {2024},   note = {R package version 0.1.2},   url = {https://guyabel.github.io/tidycat/}, }"},{"path":[]},{"path":"/index.html","id":"introduction","dir":"","previous_headings":"","what":"Introduction","title":"Expand Tidy Output for Categorical Parameter Estimates","text":"tidycat package includes tidy_categorical() function expand broom::tidy() outputs categorical parameter estimates. See pkgdown site full details.","code":""},{"path":"/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Expand Tidy Output for Categorical Parameter Estimates","text":"can install released version tidycat CRAN : development version GitHub :","code":"install.packages(\"tidycat\") # install.packages(\"devtools\") devtools::install_github(\"guyabel/tidycat\")"},{"path":"/index.html","id":"limitations","dir":"","previous_headings":"","what":"Limitations","title":"Expand Tidy Output for Categorical Parameter Estimates","text":"tidy_categorical() function probably work expected non-default contrasts contr.helmert() one model parameters rank deficient. also supports limited range models; lm() glm() fine. complex cases, alternative method create great coefficient plots, see ggcoef_model() function ggstats package, went major upgrade around time developed tidycat.","code":""},{"path":"/index.html","id":"documentation","dir":"","previous_headings":"","what":"Documentation","title":"Expand Tidy Output for Categorical Parameter Estimates","text":"full documentation, see package vignette: tidycat package: expand broom::tidy() output categorical parameter estimates","code":""},{"path":"/index.html","id":"hello-world","dir":"","previous_headings":"","what":"Hello World","title":"Expand Tidy Output for Categorical Parameter Estimates","text":"tidy() function broom package takes messy output built-functions R, lm(), turns tidy data frames. tidy_categorical() function adds columns (variable, level effect) broom::tidy() output help manage categorical variables rows reference category terms column indicate location (reference) setting include_reference = TRUE (default) requires two inputs data frame d parameter estimates model broom::tidy() corresponding model object m passed broom::tidy() example: expanded data frame tidy_categorical() parameter estimates can particularly useful creating coefficient plots, allowing: grouping terms categorical variable additional columns. inclusion reference categories coefficient plot additional rows, allowing reader better grasp meaning parameter estimates categorical variable. example:","code":"library(dplyr) library(broom)  m1 <- mtcars %>%   mutate(transmission = recode_factor(am, `0` = \"automatic\", `1` = \"manual\")) %>%   lm(mpg ~ as.factor(cyl) + transmission + wt *  as.factor(cyl), data = .)  tidy(m1) #> # A tibble: 7 × 5 #>   term               estimate std.error statistic       p.value #>   <chr>                 <dbl>     <dbl>     <dbl>         <dbl> #> 1 (Intercept)          41.5        4.54     9.14  0.00000000190 #> 2 as.factor(cyl)6      -8.66      10.4     -0.836 0.411         #> 3 as.factor(cyl)8     -16.9        5.27    -3.20  0.00374       #> 4 transmissionmanual   -0.902      1.51    -0.595 0.557         #> 5 wt                   -6.19       1.65    -3.75  0.000937      #> 6 as.factor(cyl)6:wt    2.12       3.40     0.625 0.538         #> 7 as.factor(cyl)8:wt    3.84       1.77     2.17  0.0399 library(tidycat) d1 <- m1 %>%   tidy(conf.int = TRUE) %>%   tidy_categorical(m = m1) d1 %>%   select(-(3:5)) #> # A tibble: 10 × 8 #>    term               estimate conf.low conf.high variable  level effect refer…¹ #>    <chr>                 <dbl>    <dbl>     <dbl> <chr>     <fct> <chr>  <chr>   #>  1 (Intercept)          41.5     32.1       50.8  (Interce… (Int… main   Non-Ba… #>  2 <NA>                  0        0          0    as.facto… 4     main   Baseli… #>  3 as.factor(cyl)6      -8.66   -30.0       12.7  as.facto… 6     main   Non-Ba… #>  4 as.factor(cyl)8     -16.9    -27.7       -6.00 as.facto… 8     main   Non-Ba… #>  5 <NA>                  0        0          0    transmis… auto… main   Baseli… #>  6 transmissionmanual   -0.902   -4.02       2.22 transmis… manu… main   Non-Ba… #>  7 wt                   -6.19    -9.59      -2.79 wt        wt    main   Non-Ba… #>  8 <NA>                  0        0          0    as.facto… 4     inter… Baseli… #>  9 as.factor(cyl)6:wt    2.12    -4.87       9.12 as.facto… 6     inter… Non-Ba… #> 10 as.factor(cyl)8:wt    3.84     0.192      7.50 as.facto… 8     inter… Non-Ba… #> # … with abbreviated variable name ¹​reference library(forcats) library(ggplot2) library(ggforce)  d1 %>%   slice(-1) %>%   mutate(variable = fct_inorder(variable)) %>%   ggplot(mapping = aes(x = level, y = estimate, colour = reference,                        ymin = conf.low, ymax = conf.high)) +   facet_row(facets = \"variable\", scales = \"free_x\", space = \"free\") +   geom_hline(yintercept = 0, linetype = \"dashed\") +   geom_pointrange()"},{"path":"/reference/factor_regex.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Regular Expression to Detect Factors — factor_regex","title":"Generate Regular Expression to Detect Factors — factor_regex","text":"Primarily developed use within tidycat::tidy_categorical()","code":""},{"path":"/reference/factor_regex.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Regular Expression to Detect Factors — factor_regex","text":"","code":"factor_regex(m, at_start = TRUE)"},{"path":"/reference/factor_regex.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate Regular Expression to Detect Factors — factor_regex","text":"m model object, created using function stats::lm() at_start Logical indicating whether include ^ regular expression begin search start string","code":""},{"path":"/reference/factor_regex.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate Regular Expression to Detect Factors — factor_regex","text":"character string use regular expression.","code":""},{"path":"/reference/factor_regex.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Generate Regular Expression to Detect Factors — factor_regex","text":"Guy J. Abel","code":""},{"path":"/reference/factor_regex.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate Regular Expression to Detect Factors — factor_regex","text":"","code":"m0 <- lm(formula = mpg ~ disp + as.factor(am)*as.factor(vs), data = mtcars) factor_regex(m = m0) #> [1] \"(^as[.]factor[(]am[)]:as[.]factor[(]vs[)]|^as[.]factor[(]vs[)]|^as[.]factor[(]am[)]|^disp|^[(]Intercept[)])\""},{"path":"/reference/tidy_categorical.html","id":null,"dir":"Reference","previous_headings":"","what":"Expand broom::tidy() Outputs for Categorical Parameter Estimates — tidy_categorical","title":"Expand broom::tidy() Outputs for Categorical Parameter Estimates — tidy_categorical","text":"Create additional columns tidy model output (broom::tidy.lm()) allow easier control plotting categorical parameter estimates.","code":""},{"path":"/reference/tidy_categorical.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Expand broom::tidy() Outputs for Categorical Parameter Estimates — tidy_categorical","text":"","code":"tidy_categorical(   d = NULL,   m = NULL,   include_reference = TRUE,   reference_label = \"Baseline Category\",   non_reference_label = paste0(\"Non-\", reference_label),   exponentiate = FALSE,   n_level = FALSE )"},{"path":"/reference/tidy_categorical.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Expand broom::tidy() Outputs for Categorical Parameter Estimates — tidy_categorical","text":"d data frame tibble::tibble() output broom::tidy.lm(); one row term regression, including column term m model object, created using function lm() include_reference Logical indicating include additional rows output reference categories, obtained dummy.coef(). Defaults TRUE reference_label Character string. used create additional column output labels indicate terms correspond reference categories. non_reference_label Character string. reference_label used output indicate terms corresponding reference categories. exponentiate Logical indicating whether results broom::tidy.lm() exponentiated. Defaults FALSE. n_level Logical indicating whether include column n_level number observations per category. Defaults FALSE.","code":""},{"path":"/reference/tidy_categorical.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Expand broom::tidy() Outputs for Categorical Parameter Estimates — tidy_categorical","text":"Expanded tibble::tibble() version passed d including additional columns: variable name variable regression term belongs . level level categorical variable regression term belongs . term name numeric variables. effect type term (main interaction) reference type term (reference non-reference) label passed reference_label. reference_label set NULL created. n_level number observations per category. n_level set NULL (default) created. addition, extra rows added, include_reference set FALSE reference categories, obtained dummy.coef()","code":""},{"path":[]},{"path":"/reference/tidy_categorical.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Expand broom::tidy() Outputs for Categorical Parameter Estimates — tidy_categorical","text":"Guy J. Abel","code":""},{"path":"/reference/tidy_categorical.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Expand broom::tidy() Outputs for Categorical Parameter Estimates — tidy_categorical","text":"","code":"# strip ordering in factors (currently ordered factor not supported) library(dplyr) #>  #> Attaching package: 'dplyr' #> The following objects are masked from 'package:stats': #>  #>     filter, lag #> The following objects are masked from 'package:base': #>  #>     intersect, setdiff, setequal, union library(broom)  m0 <- esoph %>%   mutate_if(is.factor, ~factor(., ordered = FALSE)) %>%   glm(cbind(ncases, ncontrols) ~ agegp + tobgp * alcgp, data = .,         family = binomial()) # tidy tidy(m0) #> # A tibble: 21 × 5 #>    term        estimate std.error statistic  p.value #>    <chr>          <dbl>     <dbl>     <dbl>    <dbl> #>  1 (Intercept)    -7.27     1.11      -6.57 5.15e-11 #>  2 agegp35-44      1.90     1.11       1.72 8.62e- 2 #>  3 agegp45-54      3.70     1.06       3.48 5.06e- 4 #>  4 agegp55-64      4.25     1.06       4.00 6.25e- 5 #>  5 agegp65-74      4.81     1.07       4.50 6.83e- 6 #>  6 agegp75+        4.79     1.12       4.26 2.00e- 5 #>  7 tobgp10-19      1.30     0.491      2.65 8.16e- 3 #>  8 tobgp20-29      1.41     0.606      2.33 1.98e- 2 #>  9 tobgp30+        2.16     0.644      3.35 8.06e- 4 #> 10 alcgp40-79      2.02     0.403      5.02 5.18e- 7 #> # … with 11 more rows  # add further columns to tidy output to help manage categorical variables m0 %>%  tidy() %>%  tidy_categorical(m = m0, include_reference = FALSE) #> # A tibble: 21 × 8 #>    term        estimate std.error statistic  p.value variable    level    effect #>    <chr>          <dbl>     <dbl>     <dbl>    <dbl> <chr>       <fct>    <chr>  #>  1 (Intercept)    -7.27     1.11      -6.57 5.15e-11 (Intercept) (Interc… main   #>  2 agegp35-44      1.90     1.11       1.72 8.62e- 2 agegp       35-44    main   #>  3 agegp45-54      3.70     1.06       3.48 5.06e- 4 agegp       45-54    main   #>  4 agegp55-64      4.25     1.06       4.00 6.25e- 5 agegp       55-64    main   #>  5 agegp65-74      4.81     1.07       4.50 6.83e- 6 agegp       65-74    main   #>  6 agegp75+        4.79     1.12       4.26 2.00e- 5 agegp       75+      main   #>  7 tobgp10-19      1.30     0.491      2.65 8.16e- 3 tobgp       10-19    main   #>  8 tobgp20-29      1.41     0.606      2.33 1.98e- 2 tobgp       20-29    main   #>  9 tobgp30+        2.16     0.644      3.35 8.06e- 4 tobgp       30+      main   #> 10 alcgp40-79      2.02     0.403      5.02 5.18e- 7 alcgp       40-79    main   #> # … with 11 more rows  # include reference categories and column to indicate the additional terms m0 %>%  tidy() %>%  tidy_categorical(m = m0) #> # A tibble: 31 × 9 #>    term        estimate std.error statis…¹  p.value varia…² level effect refer…³ #>    <chr>          <dbl>     <dbl>    <dbl>    <dbl> <chr>   <fct> <chr>  <chr>   #>  1 (Intercept)    -7.27     1.11     -6.57 5.15e-11 (Inter… (Int… main   Non-Ba… #>  2 NA              0        0         0    0        agegp   25-34 main   Baseli… #>  3 agegp35-44      1.90     1.11      1.72 8.62e- 2 agegp   35-44 main   Non-Ba… #>  4 agegp45-54      3.70     1.06      3.48 5.06e- 4 agegp   45-54 main   Non-Ba… #>  5 agegp55-64      4.25     1.06      4.00 6.25e- 5 agegp   55-64 main   Non-Ba… #>  6 agegp65-74      4.81     1.07      4.50 6.83e- 6 agegp   65-74 main   Non-Ba… #>  7 agegp75+        4.79     1.12      4.26 2.00e- 5 agegp   75+   main   Non-Ba… #>  8 NA              0        0         0    0        tobgp   0-9g… main   Baseli… #>  9 tobgp10-19      1.30     0.491     2.65 8.16e- 3 tobgp   10-19 main   Non-Ba… #> 10 tobgp20-29      1.41     0.606     2.33 1.98e- 2 tobgp   20-29 main   Non-Ba… #> # … with 21 more rows, and abbreviated variable names ¹​statistic, ²​variable, #> #   ³​reference  # coefficient plots d0 <- m0 %>%   tidy(conf.int = TRUE) %>%   tidy_categorical(m = m0) %>%   # drop the intercept term   slice(-1) d0 #> # A tibble: 30 × 11 #>    term     estim…¹ std.e…² stati…³ p.value conf.…⁴ conf.…⁵ varia…⁶ level effect #>    <chr>      <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl> <chr>   <fct> <chr>  #>  1 NA          0      0        0    0         0        0    agegp   25-34 main   #>  2 agegp35…    1.90   1.11     1.72 8.62e-2   0.105    4.87 agegp   35-44 main   #>  3 agegp45…    3.70   1.06     3.48 5.06e-4   2.04     6.63 agegp   45-54 main   #>  4 agegp55…    4.25   1.06     4.00 6.25e-5   2.60     7.17 agegp   55-64 main   #>  5 agegp65…    4.81   1.07     4.50 6.83e-6   3.14     7.75 agegp   65-74 main   #>  6 agegp75+    4.79   1.12     4.26 2.00e-5   2.96     7.78 agegp   75+   main   #>  7 NA          0      0        0    0         0        0    tobgp   0-9g… main   #>  8 tobgp10…    1.30   0.491    2.65 8.16e-3   0.331    2.28 tobgp   10-19 main   #>  9 tobgp20…    1.41   0.606    2.33 1.98e-2   0.154    2.58 tobgp   20-29 main   #> 10 tobgp30+    2.16   0.644    3.35 8.06e-4   0.837    3.40 tobgp   30+   main   #> # … with 20 more rows, 1 more variable: reference <chr>, and abbreviated #> #   variable names ¹​estimate, ²​std.error, ³​statistic, ⁴​conf.low, ⁵​conf.high, #> #   ⁶​variable  # typical coefficient plot library(ggplot2) library(tidyr) ggplot(data = d0 %>% drop_na(),        mapping = aes(x = term, y = estimate,                      ymin = conf.low, ymax = conf.high)) +   coord_flip() +   geom_hline(yintercept = 0, linetype = \"dashed\") +   geom_pointrange()   # enhanced coefficient plot using additional columns from tidy_categorical and ggforce::facet_row() library(ggforce) ggplot(data = d0,        mapping = aes(x = level, colour = reference,                      y = estimate, ymin = conf.low, ymax = conf.high)) +   facet_row(facets = vars(variable), scales = \"free_x\", space = \"free\") +   geom_hline(yintercept = 0, linetype = \"dashed\") +   geom_pointrange() +   theme(axis.text.x = element_text(angle = 45, hjust = 1))"},{"path":"/news/index.html","id":"tidycat-010","dir":"Changelog","previous_headings":"","what":"tidycat 0.1.0","title":"tidycat 0.1.0","text":"CRAN release: 2020-06-02 Initial CRAN release","code":""},{"path":"/news/index.html","id":"tidycat-011","dir":"Changelog","previous_headings":"","what":"tidycat 0.1.1","title":"tidycat 0.1.1","text":"CRAN release: 2020-06-05 Added NEWS.md file track changes package. Changed default options added n_level","code":""},{"path":"/news/index.html","id":"tidycat-012","dir":"Changelog","previous_headings":"","what":"tidycat 0.1.2","title":"tidycat 0.1.2","text":"CRAN release: 2021-08-02 Added pkgdown Added stickers Github actions working","code":""}]
